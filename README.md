# Команда запуска

```bash
python -m machinist_game
```

# Машинист: грузовые маршруты — полное описание проекта

Это 2D-игра на Python (Arcade) про поезд в постапокалиптическом мире.
В проекте есть два основных режима: `Маршруты` и `Бесконечный режим`.

## Основные особенности

- Поезд, вагоны, станции, контракты, экономика.
- Боевые вагоны и зомби в бесконечном режиме.
- Магазин улучшений и чит-меню для тестов.
- Музыка из отдельной папки `музыка`.
- Профили игроков по нику с отдельным прогрессом.
- Таблица рекордов с ником, пробегом и деньгами.

## Профили (ник игрока)

- Перед входом в любой режим игра просит ввести ник.
- Если ник уже существует: загружается его прогресс.
- Если ник новый: создаётся новый профиль.
- У каждого ника отдельные:
  - разблокировки регионов,
  - сохранение бесконечного режима,
  - записи в рекордах.

## Режим 1: Маршруты

- Сейчас активен первый регион: `Северный лес`.
- Остальные регионы отмечены как `В разработке`.
- Игрок берёт контракт на станции, везёт груз и сдаёт его в пункте назначения.
- В режиме добавлена модель локомотива.
- Для первого региона убраны лишние сложности, чтобы можно было спокойно проходить.

### Управление в Маршрутах

- `W/S` — газ/замедление
- `A/D` — поворот
- `Space` — тормоз
- `H` — гудок
- `E` — открыть/закрыть окно станции
- `1..3` — выбрать контракт
- `L` — загрузка/разгрузка
- `Esc` — пауза
- `F11` или `Alt+Enter` — полный экран

## Режим 2: Бесконечный режим

- Поезд едет между складом и станцией.
- На складе груз загружается.
- На станции груз разгружается.
- После разгрузки открывается магазин.
- Режим бесконечный: можно ехать сколько угодно.

### Управление в Бесконечном режиме

- `W/Up/Right/D` — газ
- `S/Down/Left/A` — тормоз
- `Enter` — кирпич на педаль (автогаз вкл/выкл)
- `Esc` — подтверждение выхода в меню
- `F11` или `Alt+Enter` — полный экран

## Экономика и апгрейды

- За каждый разгруженный вагон: `+125 ₽`.
- Цены в магазине растут после каждой покупки в `1.2` раза.
- Доступные апгрейды:
  - двигатель,
  - число вагонов,
  - максимальная скорость,
  - прочность,
  - Вестник,
  - Орешник,
  - Репульсор.

## Оружие и боёвка

- Все орудия ваншотят слабых зомби.
- С 3 уровня любое орудие ваншотит больших зомби.
- С 5 уровня любое орудие ваншотит элитных зомби.
- У орудий разная механика атаки (по приоритету/дальности/типу удара).

## Зомби

- Типы: слабые, большие, элитные.
- После 800 км появляются большие.
- После 1600 км появляются элитные (другая модель).
- Все типы зомби дополнительно замедлены (играть проще).

## Музыка

Музыка берётся из папки `музыка` (в корне проекта) по смыслу названия файлов:

- трек для меню,
- несколько треков для игры (крутятся в случайном порядке),
- отдельный трек при смерти в бесконечном режиме,
- после трека смерти снова запускается случайная игровая музыка.

## Чит-меню

Открывается комбинацией `A + N + E`.

Доступные действия:

- открыть магазин,
- прокачать всё до 100,
- телепортироваться по пробегу,
- выдать деньги.

## Таблица рекордов

Показывает:

- ник,
- пробег,
- деньги,
- регион,
- дату.

## Сохранения

- База: `user_data/savegame.sqlite3`.
- Хранит настройки, прогресс, профили и рекорды.

## Структура проекта

- `machinist_game/views/` — экраны и интерфейс.
- `machinist_game/game/` — игровая логика.
- `data/levels/` — описания регионов.
- `assets/images/` — спрайты и текстуры.
- `музыка/` — пользовательская музыка.
- `user_data/` — локальная база данных и прогресс.

## Требования

- Python 3.11+
- Зависимости из `requirements.txt`

Установка зависимостей:

```bash
pip install -r requirements.txt
```

# Команда запуска

```bash
python -m machinist_game
```
